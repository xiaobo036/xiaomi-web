import{n as e,v as a,a as s,b as t,j as o}from"./element-plus-DQ9qvSSu.js";import{S as i,P as l,V as n,W as r,T as c,O as d,A as p,D as u,G as m}from"./three-CHkBf3xL.js";import{d as f,r as y,f as v,K as x,I as j,J as z,R as g,a as _,c as h,a5 as k,Q as w,O as b,o as C}from"./@vue-CUJ09wQY.js";import{_ as A}from"./index-nivZnKtY.js";import"./lodash-es-D2DQyxUg.js";import"./@vueuse-C4h3Fq44.js";import"./@element-plus-BYi6I6Re.js";import"./@popperjs-CT_jBSb5.js";import"./@ctrl-D2oWfImC.js";import"./dayjs-XTTl_L6l.js";import"./async-validator-j0i5Y79Y.js";import"./memoize-one-BAtLgO95.js";import"./normalize-wheel-es-TzhA1irr.js";import"./@floating-ui-DoFG930S.js";import"./vue-router-Dt9ftvvP.js";/* empty css                    */import"./axios-ei4kQ0Q2.js";const O={class:"nav-list"},S=["id","onClick"],q={class:"user-preference"},I=A(f({__name:"index",setup(f){e.service({lock:!0,text:"小米Su7模型加载中...",background:"rgba(0, 0, 0, 0.7)"});const A=new Audio("https://lv-sycdn.kuwo.cn/0bba2121ccef2f6f875d73d7393de15c/68fc92e8/resource/30106/trackmedia/M500002OqCe33koIGB.mp3");A.loop=!0;const I=y([{id:1,type:"车左",ref:"car_left",position:{x:-5,y:1.5,z:0},scale:{x:.95,y:.95,z:.95}},{id:2,type:"车右",ref:"car_right",position:{x:5,y:1.5,z:0},scale:{x:.95,y:.95,z:.95}},{id:3,type:"车尾",ref:"car_tail",position:{x:0,y:1.5,z:-5},scale:{x:.95,y:.95,z:.95}},{id:4,type:"车头",ref:"car_head",position:{x:0,y:1.5,z:5},scale:{x:.95,y:.95,z:.95}}]),W=y(null),D=y(),E=y(!0),G=y(!1),H={x:0,y:0,z:0},M={x:1,y:1,z:1},R={x:0,y:0,z:0},B=(e,a=H,s=M,t=R)=>{const o=new i,f=new l(50,e.clientWidth/e.clientHeight,.1,1e3);f.position.set(a.x,a.y,a.z),f.lookAt(new n(a.x,a.y,a.z));const y=new r({antialias:!0,alpha:!0});y.setSize(e.clientWidth,e.clientHeight),e.appendChild(y.domElement);(new c).load("bg.jpg",e=>{o.background=e});const v=new d(f,y.domElement);v.target.set(t.x,t.y,t.z),v.autoRotate=G.value;const x=new p(16777215,2);o.add(x);const j=new u(16777215,2);j.position.set(5,5,5),o.add(j);(new m).load("3d-model.glb",e=>{const a=e.scene;a.scale.set(s.x,s.y,s.z),o.add(a)},e=>{e.loaded/e.total*100==100&&(E.value=!1)},e=>{});const z=()=>{requestAnimationFrame(z),v.update(),y.render(o,f)};z()},F=()=>{A.play(),G.value=!0,K()},J=()=>{A.pause(),G.value=!1,K()};v(()=>{K()});const K=async()=>{D.value=Array.from(document.querySelectorAll(".nav-item"));for(const e of D.value)I.value.filter(a=>{a.ref===e.id&&B(e,a.position,a.scale)});await B(W.value,{x:0,y:2,z:6},M,{x:0,y:1.5,z:0})};return(e,i)=>{const l=t,n=o,r=s,c=a;return x((C(),j(r,{gutter:0,class:"container"},{default:z(()=>[g(l,{span:7,class:"left-nav"},{default:z(()=>[_("div",O,[(C(!0),h(w,null,k(I.value,e=>(C(),h("div",{class:"nav-item",key:e.id,id:e.ref,onClick:a=>(e=>{var a;W.value&&(null==(a=W.value.firstChild)||a.remove(),B(W.value,e.position))})(e)},null,8,S))),128))])]),_:1}),g(l,{span:17,class:"right-content"},{default:z(()=>[_("div",q,[g(n,{type:"primary",onClick:F},{default:z(()=>[...i[0]||(i[0]=[b("播放",-1)])]),_:1}),g(n,{type:"danger",onClick:J},{default:z(()=>[...i[1]||(i[1]=[b("暂停",-1)])]),_:1})]),_("div",{ref_key:"bigDOM",ref:W,class:"big_dom"},null,512)]),_:1})]),_:1})),[[c,E.value,void 0,{fullscreen:!0,lock:!0}]])}}}),[["__scopeId","data-v-92df537d"]]);export{I as default};
